import{u as e,r as t,m as a,o as l,n as r,c as s,b as o,d,e as i,f as n,p as c,v as u,q as b,F as g,j as f,k as x,t as m,g as p,l as y,s as v}from"./index-CBMkPS47.js";import{_ as h}from"./_plugin-vue_export-helper-BCo6x5W8.js";const w={class:"min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900 py-8"},k={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},C={class:"bg-gray-800/90 backdrop-blur-sm rounded-2xl p-6 mb-8 border border-gray-700/50 shadow-xl"},j={class:"flex flex-col lg:flex-row gap-4"},q={class:"flex-1"},A={class:"relative"},P={class:"lg:w-64"},Q=["value"],I={class:"lg:w-48"},_={key:0,class:"text-center py-16"},T={key:1,class:"text-center py-16"},L={key:2,class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6 mb-12"},R={class:"aspect-square bg-gradient-to-br from-gray-700 to-gray-800 rounded-xl mb-4 flex items-center justify-center relative overflow-hidden"},E=["src","alt"],M={key:1,class:"text-6xl text-gray-500"},S={key:2,class:"absolute inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center"},$={class:"mb-4"},F={class:"text-lg font-bold mb-2 text-white"},V={class:"text-gray-400 text-sm mb-3 line-clamp-2"},z={key:0,class:"mb-3"},N={class:"inline-flex items-center bg-blue-500/20 text-blue-400 px-3 py-1 rounded-lg text-xs font-semibold border border-blue-500/30 backdrop-blur-sm"},U={class:"flex items-center justify-between"},B={class:"text-2xl font-bold text-green-400"},D={class:"text-gray-500 text-sm"},O={class:"flex gap-3"},Z=["onClick","disabled","title"],G={key:0},H={key:1},J=["onClick"],K={key:3,class:"flex justify-center"},W={class:"flex items-center space-x-3 bg-gray-800/90 backdrop-blur-sm rounded-xl p-4 border border-gray-700/50"},X=["disabled"],Y={class:"px-6 py-3 bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-lg font-bold shadow-lg border border-blue-500/20 backdrop-blur-sm"},ee=["disabled"],te={class:"p-6 h-full flex flex-col"},ae={class:"flex justify-between items-center mb-6"},le={key:0,class:"flex-1 flex flex-col items-center justify-center text-center"},re={key:1,class:"flex-1 overflow-y-auto space-y-3 mb-6"},se={class:"flex items-start space-x-3 mb-3"},oe={class:"w-12 h-12 bg-gray-700 rounded-lg flex items-center justify-center flex-shrink-0"},de=["src","alt"],ie={key:1,class:"text-lg text-gray-500"},ne={class:"flex-1 min-w-0"},ce={class:"font-semibold text-white text-sm leading-tight truncate"},ue={class:"text-gray-400 text-xs"},be={key:0,class:"mt-1"},ge={class:"text-xs text-blue-400"},fe={class:"flex items-center justify-between"},xe={class:"flex items-center space-x-2"},me=["onClick"],pe={class:"w-10 text-center font-semibold bg-gray-700/50 rounded-lg py-1 text-sm backdrop-blur-sm border border-gray-600/50"},ye=["onClick"],ve=["onClick"],he={key:2,class:"border-t border-gray-700 pt-6"},we={class:"flex justify-between items-center mb-4"},ke={class:"text-2xl font-bold text-green-400"},Ce={class:"p-6"},je={class:"flex justify-between items-center mb-6"},qe={key:0,class:"space-y-6"},Ae={class:"flex flex-col md:flex-row gap-6"},Pe={class:"md:w-1/3"},Qe={class:"aspect-square bg-gradient-to-br from-gray-700 to-gray-800 rounded-xl flex items-center justify-center relative overflow-hidden"},Ie=["src","alt"],_e={key:1,class:"text-6xl text-gray-500"},Te={class:"md:w-2/3 space-y-4"},Le={class:"text-2xl font-bold text-white"},Re={class:"text-gray-300"},Ee={class:"flex items-center justify-between"},Me={class:"text-3xl font-bold text-green-400"},Se={class:"bg-blue-500/20 text-blue-400 px-3 py-1 rounded-lg text-sm font-semibold border border-blue-500/30"},$e={key:0,class:"bg-gray-800/50 rounded-xl p-6 border border-gray-700/50"},Fe={class:"grid grid-cols-1 sm:grid-cols-2 gap-3"},Ve={class:"text-gray-300 font-medium"},ze={class:"bg-green-500/20 text-green-400 px-2 py-1 rounded text-sm font-semibold border border-green-500/30"},Ne={key:1,class:"bg-gray-800/50 rounded-xl p-6 border border-gray-700/50"},Ue={class:"bg-gray-700/50 rounded-lg p-3 border border-gray-600/50 flex items-center justify-between"},Be={class:"text-gray-300 font-medium"},De={class:"bg-blue-500/20 text-blue-400 px-2 py-1 rounded text-sm font-semibold border border-blue-500/30"},Oe={class:"flex gap-3 pt-4"},Ze=["disabled"],Ge=h({__name:"Shop",setup(h){const Ge=v(),He=e(),Je=t(!1),Ke=t(!1),We=t(null),Xe=a({search:"",category:"all",sort:"newest",page:1,limit:12});let Ye=null;const et=()=>{clearTimeout(Ye),Ye=setTimeout(()=>{tt()},500)},tt=()=>{He.setFilters(Xe),He.fetchProducts()},at=()=>{Object.assign(Xe,{search:"",category:"all",sort:"newest",page:1,limit:12}),tt()},lt=e=>{e>=1&&e<=He.pagination.pages&&(Xe.page=e,tt())},rt=e=>{He.addToCart(e),Je.value=!0},st=(e,t)=>{He.updateCartQuantity(e,t)},ot=e=>{e.target.style.display="none"},dt=()=>{Je.value=!1,Ge.push("/checkout")};return l(async()=>{await He.fetchProducts(),await He.fetchCategories()}),r(()=>He.cartItemsCount,e=>{e>0&&Je.value}),(e,t)=>(o(),s("div",w,[d("div",k,[t[28]||(t[28]=n('<div class="text-center mb-12" data-v-1859f598><h1 class="text-4xl md:text-6xl font-bold mb-6 bg-gradient-to-r from-blue-400 via-purple-500 to-blue-600 bg-clip-text text-transparent" data-v-1859f598> 🛒 Tienda CraftAR </h1><p class="text-xl text-gray-300 max-w-3xl mx-auto leading-relaxed" data-v-1859f598> Compra items de Minecraft con dinero real y recíbelos instantáneamente en el servidor </p><div class="mt-6 flex justify-center" data-v-1859f598><div class="bg-gradient-to-r from-green-500/20 to-blue-500/20 border border-green-500/30 rounded-lg px-6 py-3 backdrop-blur-sm" data-v-1859f598><span class="text-green-400 font-semibold" data-v-1859f598>⚡ Entrega instantánea</span><span class="text-gray-300 mx-2" data-v-1859f598>•</span><span class="text-blue-400 font-semibold" data-v-1859f598>🔒 Pago seguro</span></div></div></div><div class="bg-gradient-to-r from-blue-500/10 to-purple-500/10 border border-blue-500/30 rounded-2xl p-6 mb-8 backdrop-blur-sm" data-v-1859f598><div class="flex items-start space-x-4" data-v-1859f598><div class="flex-shrink-0" data-v-1859f598><div class="w-12 h-12 bg-blue-500/20 rounded-full flex items-center justify-center" data-v-1859f598><i class="fas fa-info-circle text-blue-400 text-xl" data-v-1859f598></i></div></div><div class="flex-1" data-v-1859f598><h3 class="text-xl font-bold text-blue-400 mb-3" data-v-1859f598>💡 ¿Cómo funcionan las cantidades?</h3><div class="grid md:grid-cols-3 gap-4 text-gray-300" data-v-1859f598><div class="bg-gray-800/50 rounded-lg p-4 border border-gray-700/50" data-v-1859f598><h4 class="font-semibold text-white mb-2" data-v-1859f598>📦 Productos Individuales</h4><p class="text-sm" data-v-1859f598>Al agregar &quot;1&quot; al carrito, recibes 1 item</p></div><div class="bg-gray-800/50 rounded-lg p-4 border border-gray-700/50" data-v-1859f598><h4 class="font-semibold text-white mb-2" data-v-1859f598>📚 Productos en Paquetes</h4><p class="text-sm" data-v-1859f598>Al agregar &quot;1&quot; al carrito, recibes la cantidad indicada en el nombre</p></div><div class="bg-gray-800/50 rounded-lg p-4 border border-gray-700/50" data-v-1859f598><h4 class="font-semibold text-white mb-2" data-v-1859f598>🛒 En el Carrito</h4><p class="text-sm" data-v-1859f598>Puedes ajustar la cantidad de paquetes que deseas comprar</p></div></div></div></div></div>',2)),d("div",C,[d("div",j,[d("div",q,[d("div",A,[c(d("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>Xe.search=e),type:"text",placeholder:"🔍 Buscar items...",class:"w-full px-4 py-3 pl-12 bg-gray-700/80 border border-gray-600/50 rounded-xl text-white placeholder-gray-400 focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-500/20",onInput:et},null,544),[[u,Xe.search]]),t[15]||(t[15]=d("i",{class:"fas fa-search absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400"},null,-1))])]),d("div",P,[c(d("select",{"onUpdate:modelValue":t[1]||(t[1]=e=>Xe.category=e),onChange:tt,class:"w-full px-4 py-3 bg-gray-700/80 border border-gray-600/50 rounded-xl text-white focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-500/20"},[t[16]||(t[16]=d("option",{value:"all"},"🏷️ Todas las Categorías",-1)),(o(!0),s(g,null,f(x(He).categories,e=>(o(),s("option",{key:e,value:e},m(e),9,Q))),128))],544),[[b,Xe.category]])]),d("div",I,[c(d("select",{"onUpdate:modelValue":t[2]||(t[2]=e=>Xe.sort=e),onChange:tt,class:"w-full px-4 py-3 bg-gray-700/80 border border-gray-600/50 rounded-xl text-white focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-500/20"},[...t[17]||(t[17]=[d("option",{value:"newest"},"🆕 Más Recientes",-1),d("option",{value:"price-low"},"💰 Precio: Menor a Mayor",-1),d("option",{value:"price-high"},"💎 Precio: Mayor a Menor",-1),d("option",{value:"name"},"🔤 Nombre A-Z",-1)])],544),[[b,Xe.sort]])])])]),x(He).loading?(o(),s("div",_,[...t[18]||(t[18]=[d("div",{class:"inline-block animate-spin rounded-full h-16 w-16 border-4 border-gray-600 border-t-blue-500 mb-4"},null,-1),d("p",{class:"text-xl text-gray-400"},"🔄 Cargando productos...",-1)])])):x(He).products&&0!==x(He).products.length?(o(),s("div",L,[(o(!0),s(g,null,f(x(He).products,e=>(o(),s("div",{key:e._id,class:"group bg-gray-800/90 backdrop-blur-sm rounded-2xl p-2 shadow-xl border border-gray-700/50 relative overflow-hidden"},[d("div",R,[e.image?(o(),s("img",{key:0,src:e.image,alt:e.name,class:"w-full h-full object-cover",onError:t[3]||(t[3]=e=>ot(e))},null,40,E)):(o(),s("div",M," 🧱 ")),0===e.stock?(o(),s("div",S,[...t[22]||(t[22]=[d("span",{class:"bg-red-500/90 text-white px-4 py-2 rounded-full text-sm font-bold backdrop-blur-sm border border-red-400/50"}," ❌ Agotado ",-1)])])):i("",!0)]),d("div",$,[d("h3",F,m(e.name),1),d("p",V,m(e.description),1),e.defaultQuantity&&e.defaultQuantity>1?(o(),s("div",z,[d("span",N,[t[23]||(t[23]=d("i",{class:"fas fa-info-circle mr-1"},null,-1)),p(" Cantidad por unidad: "+m(e.defaultQuantity),1)])])):i("",!0),d("div",U,[d("span",B," $"+m(e.price.toLocaleString("es-AR")),1),d("span",D,m(e.category),1)])]),d("div",O,[d("button",{onClick:t=>rt(e),disabled:0===e.stock,class:"flex-1 bg-gradient-to-r from-green-600 to-green-700 disabled:from-gray-600 disabled:to-gray-700 disabled:cursor-not-allowed text-white font-semibold py-3 px-4 rounded-xl shadow-lg border border-green-500/20 flex items-center justify-center gap-2 relative overflow-hidden",title:e.defaultQuantity&&e.defaultQuantity>1?`Agregar 1 unidad (${e.defaultQuantity} items en total)`:"Agregar al carrito"},[t[24]||(t[24]=d("i",{class:"fas fa-cart-plus"},null,-1)),e.defaultQuantity&&e.defaultQuantity>1?(o(),s("span",G," Agregar ("+m(e.defaultQuantity)+") ",1)):(o(),s("span",H,"Agregar"))],8,Z),d("button",{onClick:t=>(e=>{We.value=e,Ke.value=!0})(e),class:"bg-gray-700/80 text-white font-semibold py-3 px-4 rounded-xl shadow-md border border-gray-600/50 backdrop-blur-sm flex items-center justify-center",title:"Ver detalles"},[...t[25]||(t[25]=[d("i",{class:"fas fa-eye"},null,-1)])],8,J)])]))),128))])):(o(),s("div",T,[t[19]||(t[19]=d("div",{class:"text-8xl mb-6"},"🔍",-1)),t[20]||(t[20]=d("h3",{class:"text-3xl font-bold mb-4 text-gray-300"},"No se encontraron productos",-1)),t[21]||(t[21]=d("p",{class:"text-gray-400 mb-8 text-lg"},"Intenta ajustar los filtros de búsqueda",-1)),d("button",{onClick:at,class:"bg-gradient-to-r from-blue-600 to-purple-600 text-white font-semibold py-3 px-8 rounded-xl shadow-lg"}," 🧹 Limpiar Filtros ")])),x(He).pagination&&x(He).pagination.pages>1?(o(),s("div",K,[d("div",W,[d("button",{onClick:t[4]||(t[4]=e=>lt(x(He).pagination.current-1)),disabled:!x(He).pagination.hasPrev,class:"bg-gray-700/80 disabled:bg-gray-600/30 disabled:cursor-not-allowed text-white font-semibold py-3 px-4 rounded-lg shadow-md border border-gray-600/50 backdrop-blur-sm flex items-center justify-center",title:"Página anterior"},[...t[26]||(t[26]=[d("i",{class:"fas fa-chevron-left"},null,-1)])],8,X),d("span",Y,m(x(He).pagination.current)+" de "+m(x(He).pagination.pages),1),d("button",{onClick:t[5]||(t[5]=e=>lt(x(He).pagination.current+1)),disabled:!x(He).pagination.hasNext,class:"bg-gray-700/80 disabled:bg-gray-600/30 disabled:cursor-not-allowed text-white font-semibold py-3 px-4 rounded-lg shadow-md border border-gray-600/50 backdrop-blur-sm flex items-center justify-center",title:"Página siguiente"},[...t[27]||(t[27]=[d("i",{class:"fas fa-chevron-right"},null,-1)])],8,ee)])])):i("",!0)]),Je.value?(o(),s("div",{key:0,class:"fixed inset-0 bg-black/60 backdrop-blur-sm z-[9998]",onClick:t[9]||(t[9]=e=>Je.value=!1)},[d("div",{class:"absolute right-0 top-0 h-full w-full max-w-sm sm:max-w-md md:w-96 bg-gray-900/95 backdrop-blur-md shadow-2xl border-l border-gray-700/50 transition-transform duration-300",onClick:t[8]||(t[8]=y(()=>{},["stop"]))},[d("div",te,[d("div",ae,[t[30]||(t[30]=d("h2",{class:"text-2xl font-bold text-white"},"🛒 Carrito",-1)),d("button",{onClick:t[6]||(t[6]=e=>Je.value=!1),class:"text-gray-400 transition-colors duration-300"},[...t[29]||(t[29]=[d("i",{class:"fas fa-times text-xl"},null,-1)])])]),0===x(He).cart.length?(o(),s("div",le,[...t[31]||(t[31]=[d("div",{class:"text-6xl mb-4"},"🛒",-1),d("p",{class:"text-gray-400 text-lg"},"Tu carrito está vacío",-1),d("p",{class:"text-gray-500 text-sm mt-2"},"Agrega algunos productos para comenzar",-1)])])):(o(),s("div",re,[(o(!0),s(g,null,f(x(He).cart,e=>(o(),s("div",{key:e.id,class:"bg-gray-800/80 backdrop-blur-sm rounded-xl border border-gray-700/50 p-4"},[d("div",se,[d("div",oe,[e.image?(o(),s("img",{key:0,src:e.image,alt:e.name,class:"w-full h-full object-cover rounded-lg",onError:t[7]||(t[7]=e=>ot(e))},null,40,de)):(o(),s("div",ie,"🧱"))]),d("div",ne,[d("h3",ce,m(e.name),1),d("p",ue,"$"+m(e.price.toLocaleString("es-AR")),1),e.defaultQuantity&&e.defaultQuantity>1?(o(),s("div",be,[d("span",ge,[t[32]||(t[32]=d("i",{class:"fas fa-cube mr-1"},null,-1)),p(" Total: "+m(e.quantity*e.defaultQuantity)+" unidades ",1)])])):i("",!0)])]),d("div",fe,[d("div",xe,[d("button",{onClick:t=>st(e.id,e.quantity-1),class:"w-8 h-8 bg-gray-700/80 rounded-lg flex items-center justify-center shadow-md border border-gray-600/50 backdrop-blur-sm",title:"Reducir cantidad"},[...t[33]||(t[33]=[d("i",{class:"fas fa-minus text-xs"},null,-1)])],8,me),d("span",pe,m(e.quantity),1),d("button",{onClick:t=>st(e.id,e.quantity+1),class:"w-8 h-8 bg-gray-700/80 rounded-lg flex items-center justify-center shadow-md border border-gray-600/50 backdrop-blur-sm",title:"Aumentar cantidad"},[...t[34]||(t[34]=[d("i",{class:"fas fa-plus text-xs"},null,-1)])],8,ye)]),d("button",{onClick:t=>{return a=e.id,void He.removeFromCart(a);var a},class:"w-8 h-8 bg-red-600/80 rounded-lg flex items-center justify-center shadow-md border border-red-500/50 backdrop-blur-sm",title:"Eliminar del carrito"},[...t[35]||(t[35]=[d("i",{class:"fas fa-trash text-xs"},null,-1)])],8,ve)])]))),128))])),x(He).cart.length>0?(o(),s("div",he,[d("div",we,[t[36]||(t[36]=d("span",{class:"text-lg font-semibold text-white"},"Total:",-1)),d("span",ke," $"+m(x(He).cartTotal.toLocaleString("es-AR")),1)]),d("button",{onClick:dt,class:"w-full bg-gradient-to-r from-green-600 to-green-700 text-white font-semibold py-4 px-6 rounded-xl shadow-lg border border-green-500/20 flex items-center justify-center gap-2"},[...t[37]||(t[37]=[d("i",{class:"fas fa-credit-card"},null,-1),p(" 💳 Proceder al Pago ",-1)])])])):i("",!0)])])])):i("",!0),Ke.value?(o(),s("div",{key:1,class:"fixed inset-0 bg-black/60 backdrop-blur-sm z-[9999] flex items-center justify-center p-4",onClick:t[14]||(t[14]=e=>Ke.value=!1)},[d("div",{class:"bg-gray-900/95 backdrop-blur-md rounded-2xl border border-gray-700/50 shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",onClick:t[13]||(t[13]=y(()=>{},["stop"]))},[d("div",Ce,[d("div",je,[t[39]||(t[39]=d("h2",{class:"text-2xl font-bold text-white"},"📦 Detalles del Producto",-1)),d("button",{onClick:t[10]||(t[10]=e=>Ke.value=!1),class:"text-gray-400 transition-colors duration-300"},[...t[38]||(t[38]=[d("i",{class:"fas fa-times text-xl"},null,-1)])])]),We.value?(o(),s("div",qe,[d("div",Ae,[d("div",Pe,[d("div",Qe,[We.value.image?(o(),s("img",{key:0,src:We.value.image,alt:We.value.name,class:"w-full h-full object-cover",onError:ot},null,40,Ie)):(o(),s("div",_e,[...t[40]||(t[40]=[d("i",{class:"fas fa-cube"},null,-1)])]))])]),d("div",Te,[d("h3",Le,m(We.value.name),1),d("p",Re,m(We.value.description),1),d("div",Ee,[d("span",Me," $"+m(We.value.price.toLocaleString("es-AR")),1),d("span",Se,m(We.value.category),1)])])]),We.value.items&&We.value.items.length>0?(o(),s("div",$e,[t[41]||(t[41]=d("h4",{class:"text-xl font-bold text-white mb-4 flex items-center gap-2"},[d("i",{class:"fas fa-gift text-green-400"}),p(" Items Incluidos ")],-1)),d("div",Fe,[(o(!0),s(g,null,f(We.value.items,e=>(o(),s("div",{key:e.item,class:"bg-gray-700/50 rounded-lg p-3 border border-gray-600/50 flex items-center justify-between"},[d("span",Ve,m(e.item.replace(/_/g," ").toLowerCase()),1),d("span",ze," x"+m(e.quantity),1)]))),128))])])):We.value.minecraftItem?(o(),s("div",Ne,[t[42]||(t[42]=d("h4",{class:"text-xl font-bold text-white mb-4 flex items-center gap-2"},[d("i",{class:"fas fa-cube text-blue-400"}),p(" Item Incluido ")],-1)),d("div",Ue,[d("span",Be,m(We.value.minecraftItem.replace(/_/g," ").toLowerCase()),1),d("span",De," x"+m(We.value.defaultQuantity||1),1)])])):i("",!0),d("div",Oe,[d("button",{onClick:t[11]||(t[11]=e=>rt(We.value)),disabled:0===We.value.stock,class:"flex-1 bg-gradient-to-r from-green-600 to-green-700 disabled:from-gray-600 disabled:to-gray-700 disabled:cursor-not-allowed text-white font-semibold py-3 px-4 rounded-xl shadow-lg border border-green-500/20 flex items-center justify-center gap-2"},[...t[43]||(t[43]=[d("i",{class:"fas fa-cart-plus"},null,-1),p(" Agregar al Carrito ",-1)])],8,Ze),d("button",{onClick:t[12]||(t[12]=e=>Ke.value=!1),class:"bg-gray-700/80 text-white font-semibold py-3 px-4 rounded-xl shadow-md border border-gray-600/50 backdrop-blur-sm flex items-center justify-center"}," Cerrar ")])])):i("",!0)])])])):i("",!0)]))}},[["__scopeId","data-v-1859f598"]]);export{Ge as default};
